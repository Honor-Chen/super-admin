import{u as d,r,S as m,a as y,b as v,j as e,B as s,d as h,I as u,i as C,c as b}from"./index-RSJx6N-X.js";import{u as k,a as N}from"./index-bQ-SiX10.js";import{C as S}from"./index-Bx8tuzbd.js";function A(){const c=d();return c.pathname+c.search}function T(c){const n=r.useRef(0);m(c,()=>{function o(){const l=p();n.current=(l==null?void 0:l.scrollTop)||0}const t=p();return t==null||t.scrollTo(0,n.current),t==null||t.addEventListener("scroll",o),()=>{t==null||t.removeEventListener("scroll",o)}},!1)}function p(){return document.querySelector(".cache-component")}function E(){const[c,n]=r.useState(!1),o=k(x=>x.counter.value),t=N(),{toggleTheme:l}=y();A();const a=r.useRef(null);T(a),m(a,()=>(n(!0),()=>{}),!1);const{closeCurrent:f,open:i}=v();return e(S,{title:"首页 (带缓存)",ref:a},e("div",{className:"w-full h-full flex-col flex justify-center"},e("div",{className:"flex w-[400px] mb-[30px] items-center"},e(s,{type:"link"},"Redux Example"),e(s,{onClick:()=>{t(h())}},"minus -"),e(u,{value:o}),e(s,{onClick:()=>{t(C())}},"plus +")),e(b,{className:"mb-[20px]"},e(s,{type:"primary",onClick:()=>{l()}},"切换主题"),e(s,{danger:!0,type:"primary",onClick:()=>{f()}},"关闭"),e(s,{type:"primary",onClick:()=>i({key:"/no-cache",label:"无缓存页面"})},"打开无缓存页面"),e(s,{type:"primary",ghost:!0,onClick:()=>i({key:"/?id=1",label:"有参数页面"})},"打开有参数首页")),e(u,{style:{marginBottom:"20px"},placeholder:"输入一个值 然后切换tab组件不会被销毁"}),e("div",{className:"bg-amber-300 p-[20px] flex-col flex justify-center items-center w-full h-[400px]",style:{backgroundColor:"#ffd81c"}},e("div",{className:"font-extrabold text-[40px]"},"React KeepAlive💗"),e("p",{className:"text-2xl"},c?e("span",{className:"text-red-400 font-extrabold"},"active 💡"):"inactive"))))}export{E as default};
